
# Daily Notes Aliases
dn() {
  if [ "$(echo $@|xargs)" != "" ]; then
    echo " * $@" >> ~/dn/notes/$(date "+%Y-%m-%d")	
  fi
}

# add note to a specified date, yesterday/tomorrow for convenience
# or relative date:  dno -2 "a note save to 2 days ago"  dno +3 "a note for 3 days later"
dno() {
  if [ "$1" = "yesterday" ]; then
    echo " * ${@:2}" >> ~/dn/notes/$(date -v-1d "+%Y-%m-%d")
  elif [ "$1" = "tomorrow" ]; then
    echo " * ${@:2}" >> ~/dn/notes/$(date -v+1d "+%Y-%m-%d")
  elif [[ $1 == -* ]] || [[ $1 == +* ]] ; then
    echo " * ${@:2}" >> ~/dn/notes/$(date -v${1}d "+%Y-%m-%d")    
  else
    echo " * ${@:2}" >> ~/dn/notes/$1
  fi
}

# vim edit a note
# dnoe 2019-11-01
# dnoe -2   # edit note of 2 days ago
# dnoe +3   # edit note for 3 days later
# dnoe      # vim will list all files to select
dnoe() {
  if [[ $1 == -* ]] || [[ $1 == +* ]] ; then
    vim ~/dn/notes/$(date -v${1}d "+%Y-%m-%d")    
  else
    vim ~/dn/notes/$1
  fi
}

dnt() {
  echo $(date "+%Y-%m-%d")
  cat ~/dn/notes/$(date "+%Y-%m-%d")
}

dnte() {
  echo $(date "+%Y-%m-%d")
  vim ~/dn/notes/$(date "+%Y-%m-%d")
}

dnv() {
  clear
  find ~/dn/notes/$1* -type f -exec basename {} \; -exec cat {} \;
}

dni() {
  m=$(</dev/stdin)
  echo " * $m" >>  ~/dn/notes/$(date "+%Y-%m-%d")
}
