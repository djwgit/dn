
# Daily Notes Aliases

# enter a note for today
dn() {
  if [ "$(echo $@|xargs)" != "" ]; then
    echo " * $@" >> ~/dn/notes/$(date "+%Y-%m-%d")	
  fi
}

# add note to a specified date, yesterday/tomorrow for convenience
# or relative date:  dno -2 "a note save to 2 days ago"  dno +3 "a note for 3 days later"
dno() {
  if [ "$1" = "yesterday" ]; then
    echo " * ${@:2}" >> ~/dn/notes/$(date -v-1d "+%Y-%m-%d")
  elif [ "$1" = "tomorrow" ]; then
    echo " * ${@:2}" >> ~/dn/notes/$(date -v+1d "+%Y-%m-%d")
  elif [[ $1 == -* ]] || [[ $1 == +* ]] ; then
    echo " * ${@:2}" >> ~/dn/notes/$(date -v${1}d "+%Y-%m-%d")    
  else
    echo " * ${@:2}" >> ~/dn/notes/$1
  fi
}

# edit for a given date, otherwise, vim provides a file list to select.
dnoe() {
  vim ~/dn/notes/$1
}

# view today's note
dnt() {
  echo $(date "+%Y-%m-%d")
  cat ~/dn/notes/$(date "+%Y-%m-%d")
}

# vim today's note
dnte() {
  echo $(date "+%Y-%m-%d")
  vim ~/dn/notes/$(date "+%Y-%m-%d")
}

# view notes: view all if no argument, or dnv 2019-11 for the month, or for the date
dnv() {
  find ~/dn/notes/$1* -type f -exec basename {} \; -exec cat {} \;
}

# multiple line note for today
dni() {
  m=$(</dev/stdin)
  echo " * $m" >>  ~/dn/notes/$(date "+%Y-%m-%d")
}
